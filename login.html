<!doctype html>
<html lang="en">
   <head>
      <title>Login Form using local storage</title>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <style>
         .navbar-nav li{
         padding: 0 0.5rem;
         }
         .img_box{
         display: none;
         margin-bottom: 2rem;
         }
         .img_box.show-img{
         display: block;
         }
         header{
         position: absolute;
         left: 0;
         right: 0;
         z-index: 111;
         }
         #hero {
         width: 100%;
         height: 60vh;
         background: url(images/hero-bg.jpg) center center;
         background-size: cover;
         position: relative;
         padding: 0;
         }  
         .load_more_wrapper{
         margin: 3rem 0;
         }   
      </style>
   </head>
   <body>
      <header>
         <div class="container">
            <nav class="navbar navbar-expand-lg">
               <div class="container-fluid">
                  <a class="navbar-brand" href="#">LOGO</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                     <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                           <button type="button" data-target="#registerModal"  data-toggle="modal" class="btn btn-primary"> Register </button>
                        </li>
                        <li class="nav-item">
                           <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#loginmodal">Login</button>
                        </li>
                     </ul>
                  </div>
               </div>
            </nav>
         </div>
      </header>
      <section id="hero">
      </section>
      <section>
         <div class="container">
            <div class="load_more_wrapper">
               <div class="list_block row">
                  <div class="img_box col-lg-3 col-md-3 show-img">
                     <img src="images/gallery-1.jpg" class="img-fluid"   class="img-fluid" title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3 show-img">
                     <img src="images/gallery-2.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3 show-img">
                     <img src="images/gallery-3.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3 show-img">
                     <img src="images/gallery-4.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3">
                     <img src="images/gallery-5.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3">
                     <img src="images/gallery-6.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3">
                     <img src="images/gallery-7.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3">
                     <img src="images/gallery-8.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="img_box col-lg-3 col-md-3">
                     <img src="images/gallery-9.jpg" class="img-fluid"  title=""/>
                  </div>
                  <div class="col-lg-12">
                     <button id="load_more" class="btn btn-primary">Load More...</button>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <!--  Register Modal -->
      <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="loginmodalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="loginmodalLabel">Please Login</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               <div class="modal-body">
                  <form action="#">
                     <div class="form-group">
                        <label for="email">Name:</label>
                        <input type="text" class="form-control" id="uname" placeholder="Enter Name" name="uname">
                     </div>
                     <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter email" name="email">
                     </div>
                     <div class="form-group">
                        <label for="pwd">Password:</label>
                        <input type="password" class="form-control" id="psw" placeholder="Enter password" name="psw">
                     </div>
                  </form>
               </div>
               <div class="modal-footer">
                  <button type="button" onclick="saveData()" id="save-btn" class="btn btn-primary">Submit</button>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>
      <!--  login Modal -->
      <div class="modal fade" id="loginmodal" tabindex="-1" aria-labelledby="loginmodalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="loginmodalLabel">Please Login</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               <div class="modal-body">
                  <form action="#">
                     <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="uname" name="uname" placeholder="Enter Username" class="form-control"/> 
                     </div>
                     <div class="form-group">
                        <label for="pwd">Password:</label>
                        <input type="password" class="form-control" id="pass" placeholder="Enter password" name="pass">
                     </div>
                  </form>
               </div>
               <div class="modal-footer">
                  <button type="button" onclick="SaveUserData()" id="save_btn" class="btn btn-primary">Login</button>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script>
         // login of user//
         function SaveUserData() {
         let uname,pass;
         uname=document.getElementById("uname").value;
         pass=document.getElementById("pass").value;
         
         let user_records=new Array();
         user_records=JSON.parse(localStorage.getItem("users")) || []
         
         if(user_records.some((v)=>{return v.name==uname && v.psw==pass}))
         {
           alert("Login Successfull.");
           var current_user=user_records.filter((v)=>{return v.name==uname && v.psw==pass});
           //console.log(current_user);
            for(let i=0;i<current_user.length;i++) {
               var nm=current_user[i].name;
           }
           console.log("name=" +nm);
           window.location.href="welcome.html?nm="+nm;
         }
         else
         {
           alert('Incorrect Credentials ! Login Failed');
         }
         
         }
         
         //register user
         function saveData() {
         let name,email,psw;
         uname=document.getElementById("uname").value;
         email=document.getElementById("email").value; 
         psw=document.getElementById("psw").value;
         
         let user_records=new Array();
         user_records=JSON.parse(localStorage.getItem("users")) || [] 
         
           user_records.push({
           "name":uname,
           "email":email,
           "psw":psw
         })
         localStorage.setItem("users",JSON.stringify(user_records));
         sessionStorage.setItem("users",JSON.stringify(user_records));
         alert("Registered successfully");
         }
         
         
         
         
         const loadmore = document.querySelector('#load_more');
         let currentItems = 4;
         loadmore.addEventListener('click', (e) => {
         
         const elementList = [...document.querySelectorAll('.list_block .img_box')];
               console.log(elementList);
             for (let i = currentItems; i < currentItems + 4; i++) {
                 if (elementList[i]) {
                     elementList[i].style.display = 'block';
                 }
             }
               currentItems += 4;
             
             if (currentItems >= elementList.length) {
                 event.target.style.display = 'none';
             }
         })
         
         
         
      </script>
   </body>
</html>